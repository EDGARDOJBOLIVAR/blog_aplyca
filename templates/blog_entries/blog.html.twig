{% extends 'base.html.twig' %}

{% block title %}{{ parent()}} - Blog{% endblock %}

{% block body %}
    {# {{ dump(pagination) }} #}

    <div class="row">
        <div class="col-12 col-md-3">
            <h3 class="text-center">Entradas 
                {% if app.user %}
                    <a class="text-danger" href="{{ path('new_entries') }}" title="agregar entrada">+</a>
                {% endif %}
            </h3>
            {# total items count #}
            <div class="count">
                Total: {{ pagination.getTotalItemCount }}
            </div>
            <div>
                
            </div>
            <ul>
                {% for article in pagination %}
                    <li>
                        <a href="#!" class="view-entry-preview" entry_id="{{ article.id }}" entry_title="{{ article.title }}" entry_text="{{ article.text }}" entry_image="{{ article.image }}" entry_date="{{ article.date | date('Y-m-d') }}" entry_autor="{{ article.user_name }}" onClick="view_entry_preview(this); return false;" >{{ article.title }}</a>
                    </li>
                {% endfor %}
            </ul>
            {# display navigation #}
            <div class="navigation">
                {{ knp_pagination_render(pagination) }}
            </div>
        </div>

        <div class="col-12 col-md-9" id="space-entry-preview">
            
        </div>
    </div>

    
{% endblock %}


{% block javascripts %}
    {{ parent()}}
    <script src="{{ asset('vistas/js/blog.js') }}" type="text/javascript"></script>
{% endblock %}